以下為本專案的開發目標與規範，所有工作請以此文件為準。內容以量化交易金融專家與資訊系統建構師觀點制定，確保研究可用、交易可行、系統可維運。

## 專案目標
- 建置具後台的量化交易終端，前端為 React 19 + TypeScript，後端為 FastAPI，資料庫為 SQLite。
- 後端需持久化：策略、歷史行情資料、系統設定、回測/研究結果摘要（可重現）。
- 前端負責互動與可視化，Python 策略與 RL 訓練仍在瀏覽器端 Pyodide 執行。
- 以「研究→回測→模擬→交易→監控」完整生命週期為目標，確保可追溯與可審計。

## 核心需求
- 不使用環境變數：所有設定必須集中於 `config` 目錄下的設定檔。
- 設定檔需同時供前端與後端使用（以相同欄位命名與結構為原則）。
- 後端 API 需保持穩定、可版本化，前端不可直接存取本地資料庫。
- 系統須具備資料品質、防錯與風控基線（例如：時區一致、缺值處理、交易成本、滑價、風險限制）。

## 設定檔規範
- 設定檔路徑固定為：`config/app.config.json`
- 任何新增設定必須寫入該檔案，並在文件中同步更新。

## 專業量化準則
- 研究與回測需顯式紀錄：資料來源、時間範圍、採樣頻率、交易成本、滑價模型、基準指數。
- 策略必須可重現：策略版本、參數、特徵工程與隨機種子需可追溯。
- 風險控制最低要求：部位上限、槓桿限制、最大回撤警戒、停損/停利與曝險分散規則。
- 回測統計需包含：年化報酬、波動、Sharpe/Sortino、最大回撤、勝率、交易次數、Turnover。

## 系統架構原則
- 採事件驅動思維設計資料流：資料擷取→清理→特徵→策略→下單/模擬→績效。
- 模組化分層：資料層、策略層、執行層、風控層、監控層，避免相互耦合。
- 同一份設定檔驅動前後端與後端服務行為，確保環境一致。
- API 需版本化、可回溯，錯誤回應具標準碼與一致格式。

## 資料治理與一致性
- 明確定義行情資料結構（時間、交易所、資產、幣種、時區、頻率）。
- 確保時間序列單調性、時區一致性與交易日曆對齊。
- 提供資料品質檢查（缺值、異常價、重複資料）並可紀錄修正。

## 可用性與維運
- 關鍵流程需可觀測：基本指標、錯誤率、延遲、任務狀態。
- 長任務（如回測/訓練）需可追蹤進度與結果摘要。
- 不降低前端互動性，避免阻塞 UI。

## 文件與進度
- 開發進度與里程碑：`DEVELOPMENT_STATUS.md`
- 待辦事項：`TODO.md`
- 每次變更需更新相對應文件，確保專案狀態可追溯。

## 非目標
- 不引入額外後端資料庫（例如 PostgreSQL、MySQL）。
- 不改變前端 UI 架構與設計語言（除非需求明確要求）。

## 驗證
- API 需可在本機啟動並正常存取資料。
- 前端需可載入後端資料並顯示策略與行情。

## 專案進化方案（分階段）
1. 資料與設定基座
   - 統一資料模型與欄位命名規範，補足行情結構與時區處理規格。
   - 建立資料品質檢查與匯入流程，將修正與版本紀錄保存。
2. 研究/回測核心
   - 回測引擎加入交易成本、滑價、風控規則；輸出統一績效摘要。
   - 回測結果與策略版本可追蹤，支援重現。
3. 策略與執行準備
   - 建立訊號→部位→風控→模擬下單流程，支援多資產與曝險限制。
   - 提供基準與對照組（Buy & Hold、等權重）以驗證超額績效。
4. 監控與可觀測
   - 建置任務狀態、錯誤與延遲監控；前端可視化運行狀態。
   - 針對回測/訓練流程加入中斷復原與摘要報告。
